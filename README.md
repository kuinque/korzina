# üõí Korzina - –£–º–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –ø–æ–∫—É–ø–æ–∫

**Korzina** ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–∞–≥–∞–∑–∏–Ω–∞—Ö. –ü—Ä–æ–µ–∫—Ç –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞–π—Ç–∏ –ª—É—á—à–∏–µ —Ü–µ–Ω—ã –∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω –¥–ª—è –≤–∞—à–µ–≥–æ —Å–ø–∏—Å–∫–∞ –ø–æ–∫—É–ø–æ–∫.

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–≠—Ç–æ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π:

### 1. **korzina_offers/** - Backend –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å
API —Å–µ—Ä–≤–∏—Å –Ω–∞ **FastAPI** –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ —Å —É–º–Ω—ã–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º matching.

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- üîç –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
- üìä 4-—É—Ä–æ–≤–Ω–µ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è (exact/partial matching)
- üí∞ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞ –ø–æ —Ü–µ–Ω–µ
- üì° REST API —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π (Swagger/ReDoc)
- üê≥ Docker –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** Python 3.13, FastAPI, Supabase (PostgreSQL), Pydantic, pytest

üìö [–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚Üí](korzina_offers/README.md)

### 2. **KorzinaApp/** - iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
–ù–∞—Ç–∏–≤–Ω–æ–µ iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ **Swift** –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞.

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** VIPER
**–ú–æ–¥—É–ª–∏:**
- üè† MainModule - –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
- üõí BasketModule - –∫–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫  
- üè™ ShopModule - –≤—ã–±–æ—Ä –º–∞–≥–∞–∑–∏–Ω–∞
- üë§ ProfileModule - –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚ö° StartModule - —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** Swift, UIKit, VIPER

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### Backend (korzina_offers)

```bash
cd korzina_offers

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.example .env
# –ó–∞–ø–æ–ª–Ω–∏—Ç–µ SUPABASE_URL –∏ SUPABASE_KEY

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
python main.py
```

API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:5000  
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: http://localhost:5000/docs

### iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (KorzinaApp)

```bash
cd KorzinaApp

# –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Xcode
open KorzinaApp.xcodeproj

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ Xcode (‚åòR)
```

## üìö API Endpoints

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| `GET/POST` | `/api/health` | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞ |
| `GET` | `/api/stats` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ë–î |
| `GET` | `/api/offers` | –°–ø–∏—Å–æ–∫ –æ—Ñ—Ñ–µ—Ä–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ |
| `POST` | `/api/search` | –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤ (–æ—Å–Ω–æ–≤–Ω–æ–π) |
| `GET` | `/api/search/get` | –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤ (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π) |

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```bash
# –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤
curl -X POST http://localhost:5000/api/search \
  -H "Content-Type: application/json" \
  -d '{"products": ["—è–±–ª–æ–∫–∏", "–º–æ–ª–æ–∫–æ", "—Ö–ª–µ–±"]}'
```

## üß† –ê–ª–≥–æ—Ä–∏—Ç–º —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–º–Ω—ã–π 4-—É—Ä–æ–≤–Ω–µ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º:

1. **–¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ** (similarity: 1.0)
2. **–ß–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å —Å—Ç–æ–ø-—Å–ª–æ–≤–∞–º–∏** (‚â• 0.7)
3. **–¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –±–µ–∑ —Å—Ç–æ–ø-—Å–ª–æ–≤** (0.9)
4. **–ß–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –±–µ–∑ —Å—Ç–æ–ø-—Å–ª–æ–≤** (‚â• 0.4-0.6)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞: "—Å–≤–µ–∂–∏–π", "–±–æ–ª—å—à–æ–π", "—Å–ø–µ–ª—ã–π" –∏ –¥—Ä.

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
- **Framework:** FastAPI 0.115.0
- **Server:** Uvicorn
- **Database:** Supabase (PostgreSQL)
- **Validation:** Pydantic 2.9+
- **Testing:** pytest, httpx
- **Code Quality:** mypy, black, flake8

### Mobile
- **Language:** Swift
- **Architecture:** VIPER
- **UI:** UIKit
- **Custom fonts:** Inter, Montserrat

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Backend —Ç–µ—Å—Ç—ã
```bash
cd korzina_offers
pytest
# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
pytest --cov=app --cov-report=html
```

## üê≥ Docker

```bash
cd korzina_offers
docker build -t korzina-api .
docker run -p 5000:5000 --env-file .env korzina-api
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Backend (.env)
```bash
SUPABASE_URL=your_supabase_url
SUPABASE_KEY=your_supabase_key
PORT=5000
DEBUG=true
PENALTY_PRICE=1000.0
```

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   iOS App       ‚îÇ
‚îÇ   (Swift)       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ HTTP/REST
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  FastAPI Server ‚îÇ
‚îÇ  (Python)       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ PostgreSQL
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Supabase DB   ‚îÇ
‚îÇ  (PostgreSQL)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üë• –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ Backend
1. –°–æ–∑–¥–∞–π—Ç–µ Pydantic –º–æ–¥–µ–ª—å –≤ `korzina_offers/app/models/`
2. –î–æ–±–∞–≤—å—Ç–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤ `korzina_offers/app/services/`
3. –°–æ–∑–¥–∞–π—Ç–µ API endpoint –≤ `korzina_offers/app/api/routes.py`
4. –ù–∞–ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã –≤ `korzina_offers/tests/`

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π –≤ iOS
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å —Å–ª–µ–¥—É—è VIPER –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –º–æ–¥—É–ª—å –≤ `RootTabFactory.swift` (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω –≤ TabBar)
3. –î–æ–±–∞–≤—å—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∞—Å—Å–µ—Ç—ã –≤ `Assets.xcassets/`

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

---

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–¥–ø—Ä–æ–µ–∫—Ç–æ–≤:**
- [Backend API ‚Üí](korzina_offers/README.md)
- iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (—Å–º. KorzinaApp/)

